import { anthropic } from "@ai-sdk/anthropic";
import { generateText } from "ai";

const res = await generateText({
	prompt: `
日常系アニメのような三人の女子高生による会話文を生成してください。
登場人物は[kyoko](ボケ)(口調:元気), [aya](マイペース)(口調:お嬢様), [natsumi](ツッコミ)(口調:ツッコミ)です。
一人称は全員「私」です。

# アニメ風日常会話の生成ルール

## 基本構造
- 1発言は1-3文、30文字以内を目安とする
- 情報提示->反応->展開のサイクルを維持
- 5-15ターンで1つの話題を完結させる

## ターン設計 
1. 長い説明を避け、複数ターンに分割
2. 相手の反応を引き出すポイントで発言を区切る
3. 発言の長さに変化をつけてリズムを作る

## コメディ構造
- ボケ->ツッコミ->展開の3層を意識
- 全ての発言に機能(情報/キャラ性/関係性/コメディ/リズム)を持たせる
- 予想外の短い発言でオチを作る
- 短い発言のオーバーラップを積極的に活用し、キャラクターの連帯感を表す
- 一人の発言に対して、二人が順番につっこむなどの構造も活用

## キャラクター性
- 各話者に会話内での役割を割り当てる
- 役割: ボケ/ツッコミ/加速/調停
- 一人が複数の役割を持ってもよい

最重要:Jefferson転写記号で、会話文に音声的な特徴を与えてください。
## よく使う基本記号

**話者と重なり**
- [ → 重なり開始
- [[ → 同時発話開始

**間(ポーズ)**
- (0.5) → 秒数で沈黙を記録
- (.) → 0.2秒以下の短い間

**音の伸ばし・途切れ**
- 言葉:: → コロン数で長さ表現
- 言葉- → ハイフンで途切れ
- 言葉= → 密着(途切れなく続く)

**音量・強さ**
- _下線_ → 強調
- °小声° → 小さい声

**イントネーション**
- . → 下がる
- , → 少し下がる
- ? → 上がる
- ↑↓ → 極端な上下

**その他**
- h → 呼気
- .h → 吸気
- 言(h)葉 → 笑いながら発話
- >速く< → スピード速い
- <遅く> → スピード遅い

発音の特徴は過剰なくらいでいいです。長音(::)を積極的に活用しましょう。
重要:鍵かっこや、会話文以外のテキストは生成しないでください。
[name]:セリフの形で、空行などはいりません。([]は必須)
`,
	model: anthropic("claude-haiku-4-5"),
});

console.log(res.text);
